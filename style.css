:root{
  --bg:#0f1226; --panel:#171a37; --panel-2:#1f2349; --text:#eef2ff; --muted:#a7b0d9;
  --accent:#ff9800; /* laranja dos marcadores */
  --ok:#19c37d; --warn:#ffb020; --danger:#ff4d4f;
  --sq-light:#c7d3ff14; --sq-dark:#0b0f29; --grid:#2b2f66;
}
*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0; font-family: system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,Cantarell,Noto Sans,Arial;
  color:var(--text); background: radial-gradient(90rem 70rem at 20% -20%, #2a2f65 0, #141731 35%, #0b0d1e 70%), var(--bg);
}

/* Header */
.topbar{
  position:sticky; top:0; z-index:5; backdrop-filter:saturate(1.2) blur(8px);
  display:flex; align-items:center; gap:14px; padding:14px 18px;
  border-bottom:1px solid var(--grid); background:linear-gradient(90deg,#141731cc,#0b0d1ecc);
}
.logo{width:36px;height:36px;border-radius:10px;display:grid;place-items:center;
  background: conic-gradient(from 220deg,#7c5cff,#19c37d,#7c5cff); color:#0b0d1e; font-weight:900}
.titles h1{font-size:1.05rem;margin:0}
.titles small{color:var(--muted)}
.controls{margin-left:auto}
.btn{
  appearance:none; border:1px solid #3b3f76; background:linear-gradient(180deg,#262a57,#1b1f45);
  color:var(--text); padding:10px 14px; border-radius:12px; cursor:pointer; font-weight:600;
  transition:transform .06s ease, box-shadow .2s; box-shadow:0 6px 18px #00000055, inset 0 1px 0 #ffffff18;
}
.btn:hover{transform:translateY(-1px)}

/* Layout */
.wrap{max-width:1100px;margin:18px auto;display:grid;gap:18px;grid-template-columns:260px 1fr;padding:0 18px}
.panel{
  background:linear-gradient(180deg,var(--panel),var(--panel-2)); border:1px solid var(--grid);
  border-radius:16px; padding:16px; box-shadow:0 10px 30px #00000055, inset 0 1px 0 #ffffff10;
}
.status{font-size:1rem;margin-bottom:12px}
.legend{display:grid;gap:6px;margin:8px 0 10px 0;color:#cbd4ff}
.dot{display:inline-block;width:14px;height:14px;border-radius:999px;margin-right:8px;vertical-align:middle;border:2px solid #ffffff22}
.dot.move{background:color-mix(in oklab, var(--accent) 80%, transparent)}
.dot.capture{background:transparent;border-color:var(--accent)}
.dot.sel{background:#19c37d55}
.note{color:#a7b0d9;font-size:.92rem}
.game-msg{margin-top:10px; color:var(--accent); font-weight:700; min-height:1.4rem}

/* Board */
.board{
  width:min(85vw,680px); aspect-ratio:1/1; border-radius:18px; overflow:hidden;
  display:grid; grid-template-columns:repeat(8,1fr); grid-template-rows:repeat(8,1fr);
  border:1px solid var(--grid); background:linear-gradient(180deg,var(--panel),#141736);
  box-shadow:0 10px 30px #00000055, inset 0 1px 0 #ffffff10; position:relative;
}
.board.disabled{cursor:progress}
.square{
  display:grid; place-items:center; font-size:2.6rem; user-select:none; position:relative;
  border:1px solid #2b2f66;
}
.square.light{background:var(--sq-light)}
.square.dark{background:var(--sq-dark)}

/* Cores das peças */
.square{ color: inherit; }
.square.pw{ color:#ffffff; text-shadow: 0 0 2px #000, 0 0 6px #000; }   /* jogador */
.square.pb{ color:#c8d2ff; text-shadow: 0 0 2px #000; }                 /* CPU mais clara */

/* Marcadores laranja */
.square .hint{
  position:absolute; left:50%; top:50%; transform:translate(-50%,-50%);
  width:42%; height:42%; border-radius:999px; opacity:.97; pointer-events:none; z-index:2;
  background: var(--accent); box-shadow: 0 0 0 2px #00000040;
}
.square.capture .hint{
  width:72%; height:72%; background:transparent; border:4px solid var(--accent); box-shadow:none;
}

/* Seleção e xeque */
.square.selected{outline:3px solid #19c37d; outline-offset:-3px}
.square.check-king{outline:3px solid var(--danger); outline-offset:-3px}

/* Coordinates (decorativas) */
.square::after,.square::before{position:absolute;font-size:.7rem;color:#a7b0d9}
.square.fileA.rank8::before{content:"8"; top:6px; left:8px}
.square.fileA.rank7::before{content:"7"; top:6px; left:8px}
.square.fileA.rank6::before{content:"6"; top:6px; left:8px}
.square.fileA.rank5::before{content:"5"; top:6px; left:8px}
.square.fileA.rank4::before{content:"4"; top:6px; left:8px}
.square.fileA.rank3::before{content:"3"; top:6px; left:8px}
.square.fileA.rank2::before{content:"2"; top:6px; left:8px}
.square.fileA.rank1::before{content:"1"; top:6px; left:8px}
.square.rank1.fileA::after{content:"a"; bottom:6px; right:8px}
.square.rank1.fileB::after{content:"b"; bottom:6px; right:8px}
.square.rank1.fileC::after{content:"c"; bottom:6px; right:8px}
.square.rank1.fileD::after{content:"d"; bottom:6px; right:8px}
.square.rank1.fileE::after{content:"e"; bottom:6px; right:8px}
.square.rank1.fileF::after{content:"f"; bottom:6px; right:8px}
.square.rank1.fileG::after{content:"g"; bottom:6px; right:8px}
.square.rank1.fileH::after{content:"h"; bottom:6px; right:8px}

/* Footer */
.footer{max-width:1100px;margin:14px auto 32px; padding:0 18px; color:#9aa4da; font-size:.92rem}
kbd{background:#0003;border:1px solid #ffffff22;border-bottom-color:#0005;border-radius:6px;padding:1px 6px}

/* Feedback */
.pulse-turn { animation: pulse-turn .5s }
@keyframes pulse-turn { 0% { color: var(--text) } 50% { color: var(--warn) } 100% { color: var(--text) } }
.thinking::after{ content:" — CPU pensando…"; color:var(--accent); animation: blink 1s steps(2,start) infinite; }
@keyframes blink{ 50%{ opacity:.35 } }

@media (max-width: 980px){ .wrap{grid-template-columns:1fr} .board{width:92vw} }
